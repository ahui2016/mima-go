{{define "copy-in-background"}}
    <script>
    function copyInBackground(data, url) {
        // https://developer.mozilla.org/en-US/docs/Learn/HTML/Forms/Sending_forms_through_JavaScript
        const XHR = new XMLHttpRequest();
        const FD = new FormData();
        for (const name in data) {
            if (data.hasOwnProperty(name)) {
                FD.append(name, data[name]);
            }
        }
        XHR.onload = function () {
            if (XHR.status !== 200) {
                console.log(XHR.responseText);
                window.alert(XHR.responseText);
            }
        };
        XHR.open('POST', url);
        XHR.onerror = function () {
            window.alert('出错！获取数据失败。')
        };
        XHR.send(FD);
    }
</script>
{{end}}